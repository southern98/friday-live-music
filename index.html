<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Friday Night Live Music ‚Äì Twin Cities</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<style>
    body {
        font-family: Arial, Helvetica, sans-serif;
        margin: 0;
        padding: 0;
        background: #111;
        color: #eee;
    }
    header {
        background: #1e1e1e;
        padding: 20px;
        text-align: center;
        border-bottom: 3px solid #ff9800;
    }
    h1 {
        margin: 0;
        font-size: 2rem;
    }
    .subtitle {
        color: #bbb;
        margin-top: 5px;
    }
    main {
        padding: 20px;
        max-width: 1000px;
        margin: auto;
    }
    .venue {
        background: #1c1c1c;
        border-left: 6px solid #ff9800;
        padding: 15px 20px;
        margin-bottom: 20px;
        border-radius: 4px;
    }
    .venue h2 {
        margin-top: 0;
        margin-bottom: 8px;
        color: #ffcc80;
    }
    .band {
        font-size: 1.1rem;
        margin: 5px 0;
    }
    .time {
        color: #ccc;
        font-size: 0.95rem;
    }
    footer {
        text-align: center;
        padding: 15px;
        font-size: 0.85rem;
        color: #888;
        border-top: 1px solid #333;
    }
    a {
        text-decoration: none;
    }
    a:hover {
        text-decoration: underline;
    }
</style>
</head>

<body>

<header>
    <h1>üé∏ Friday Night Live Music</h1>
    <div class="subtitle">Local bands ‚Ä¢ Updated daily</div>
</header>

<main id="content">
    Loading Friday night schedule‚Ä¶
</main>

<footer>
    Powered by PIXTAKR
</footer>

<script>
async function loadFridaySchedule() {
    const container = document.getElementById("content");
    container.innerHTML = "Loading Friday night schedule‚Ä¶";

    try {
        const response = await fetch("./data/friday.json", { cache: "no-store" });
        const data = await response.json();

        container.innerHTML = "";

        data.events.forEach(item => {
            const div = document.createElement("div");
            div.className = "venue";
            div.innerHTML = `
                <h2>
                    <a href="${item.venueUrl}" target="_blank" rel="noopener"
                       style="color:#ffcc80;">
                        ${item.venue}
                    </a>
                </h2>

                <div class="band">
                    üé∏ <a href="${item.bandUrl}" target="_blank" rel="noopener"
                         style="color:#ffffff;">
                        ${item.band}
                    </a>
                </div>

                <div class="time">üïí ${item.time}</div>
            `;
            container.appendChild(div);
        });

        document.querySelector("footer").innerHTML =
            `Last updated: ${data.lastUpdated} ¬∑ Powered by PIXTAKR`;

    } catch (error) {
        container.innerHTML = "‚ö†Ô∏è Unable to load live schedule.";
        console.error("Schedule load error:", error);
    }
}

loadFridaySchedule();
</script>

</body>
</html>
